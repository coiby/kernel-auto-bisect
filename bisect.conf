#
# Configuration for Kernel Kdump Bisection (Modular Framework)
#

# === Core Strategies ===
# Defines how the tool should perform key actions.

# INSTALL_STRATEGY: 'git' or 'rpm'
# 'git': Bisect commits from a git repository (builds from source).
# 'rpm': Bisect a list of pre-built kernel RPMs.
INSTALL_STRATEGY="git"

# TEST_STRATEGY: 'panic' or 'simple'
# 'panic': The tool triggers a kernel panic and verifies the result on the next boot.
# 'simple': The tool runs the reproducer and trusts its exit code directly. No panic.
TEST_STRATEGY="panic"

# REBOOT_STRATEGY: 'reboot' or 'kexec'
# 'reboot': Performs a full, normal system reboot.
# 'kexec': Uses 'kexec -e' for a faster reboot (requires kexec to be configured).
REBOOT_STRATEGY="reboot"

# === Git Repository (for INSTALL_STRATEGY="git") ===
KERNEL_SRC_DIR="/path/to/your/linux/source"

# === RPM Configuration (for INSTALL_STRATEGY="rpm") ===
KERNEL_RPM_LIST="/path/to/your/kernel_rpm_list.txt"
RPM_FAKE_REPO_PATH="/var/local/kdump-bisect-repo"
RPM_CACHE_DIR="/var/cache/kdump-bisect-rpms"

# === Commit/Version Boundaries ===
# If INSTALL_STRATEGY="git", these are git commit hashes.
# If INSTALL_STRATEGY="rpm", these are kernel release versions (e.g., "5.14.0-162.el9.aarch64").
GOOD_COMMIT="<paste_good_commit_or_version_here>"
BAD_COMMIT="<paste_bad_commit_or_version_here>"

# === Reproducer Script ===
# For 'panic' mode, must contain setup_test() and on_test().
# For 'simple' mode, only on_test() is used and it should run the test and return the result.
REPRODUCER_SCRIPT="/path/to/your/reproducer.sh"
RUNS_PER_COMMIT=3

# === Kernel Build Options (git mode only) ===
MAKE_JOBS=16

# === Bisection Options ===
VERIFY_COMMITS="yes"
