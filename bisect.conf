#
# Configuration for Kernel Kdump Bisection
#

# === Bisection Mode ===
# Set the bisection mode.
# "git": Bisect commits from a git repository (builds from source).
# "rpm": Bisect a list of pre-built kernel RPMs.
BISECT_MODE="git" # or "rpm"

# === Git Repository (for BISECT_MODE="git") ===
# Absolute path to your kernel source git repository.
KERNEL_SRC_DIR="/path/to/your/linux/source"

# === RPM Configuration (for BISECT_MODE="rpm") ===
# Path to the file containing a list of kernel RPM URLs, one per line.
# Use the provided python script to generate this.
KERNEL_RPM_LIST="/path/to/your/kernel_rpm_list.txt"
# Path where the fake git repo for RPMs will be created.
RPM_FAKE_REPO_PATH="/var/local/kdump-bisect-repo"
# Directory to cache downloaded RPMs for reuse.
RPM_CACHE_DIR="/var/cache/kdump-bisect-rpms"

# === Commit/Version Boundaries ===
# If BISECT_MODE="git", these are git commit hashes.
# If BISECT_MODE="rpm", these are kernel release versions (e.g., "5.14.0-162.el9.aarch64").
GOOD_COMMIT="<paste_good_commit_or_version_here>"
BAD_COMMIT="<paste_bad_commit_or_version_here>"


# === Reproducer Script ===
# This script must contain the setup_test() and on_test() functions.
# on_test()
#  return 0 if the test passes i.e. the commit is good
#  return 1 if the test fails i.e. the commit is bad
REPRODUCER_SCRIPT="/path/to/your/reproducer.sh"
RUNS_PER_COMMIT=3


# === Kernel Build/Install Options ===
# Number of parallel jobs for 'make' (git mode only).
MAKE_JOBS=16
# A unique identifier to append to the kernel version string (git mode only).
BISECT_VERSION_TAG="-kdump-bisect"


# === Bisection Options ===
# Verify the GOOD and BAD commits/versions before starting.
VERIFY_COMMITS="yes"
